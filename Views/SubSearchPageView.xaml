<UserControl x:Class="InventoryApplication.Views.SubSearchPageView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"            
             xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
             xmlns:convertor="clr-namespace:InventoryApplication.ViewModels.Convertors"
             xmlns:local="clr-namespace:InventoryApplication.Views"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <SolidColorBrush x:Key="StandardBorderBrush" Color="#888" />
        <SolidColorBrush x:Key="StandardBackgroundBrush" Color="Black" />
        <SolidColorBrush x:Key="HoverBorderBrush" Color="#DDD" />
        <SolidColorBrush x:Key="SelectedBackgroundBrush" Color="Gray" />
        <SolidColorBrush x:Key="SelectedForegroundBrush" Color="White" />
        <SolidColorBrush x:Key="DisabledForegroundBrush" Color="#888" />
        <SolidColorBrush x:Key="GlyphBrush" Color="#444" />
        <SolidColorBrush x:Key="NormalBrush" Color="#888" />
        <SolidColorBrush x:Key="NormalBorderBrush" Color="#888" />
        <SolidColorBrush x:Key="HorizontalNormalBrush" Color="#FF686868" />
        <SolidColorBrush x:Key="HorizontalNormalBorderBrush" Color="#888" />
        <LinearGradientBrush x:Key="ListBoxBackgroundBrush" StartPoint="0,0" EndPoint="1,0.001">
            <GradientBrush.GradientStops>
                <GradientStopCollection>
                    <GradientStop Color="White" Offset="0.0" />
                    <GradientStop Color="White" Offset="0.6" />
                    <GradientStop Color="#DDDDDD" Offset="1.2"/>
                </GradientStopCollection>
            </GradientBrush.GradientStops>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="StandardBrush" StartPoint="0,0" EndPoint="0,1">
            <GradientBrush.GradientStops>
                <GradientStopCollection>
                    <GradientStop Color="#FFF" Offset="0.0"/>
                    <GradientStop Color="#CCC" Offset="1.0"/>
                </GradientStopCollection>
            </GradientBrush.GradientStops>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="PressedBrush" StartPoint="0,0" EndPoint="0,1">
            <GradientBrush.GradientStops>
                <GradientStopCollection>
                    <GradientStop Color="#BBB" Offset="0.0"/>
                    <GradientStop Color="#EEE" Offset="0.1"/>
                    <GradientStop Color="#EEE" Offset="0.9"/>
                    <GradientStop Color="#FFF" Offset="1.0"/>
                </GradientStopCollection>
            </GradientBrush.GradientStops>
        </LinearGradientBrush>
        <Style x:Key="ScrollBarLineButton" TargetType="{x:Type RepeatButton}">
            <Setter Property="Visibility" Value="Hidden"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="true"/>
            <Setter Property="Focusable" Value="false"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                        <Border Name="Border" Margin="1" CornerRadius="2" Background="{StaticResource NormalBrush}" BorderBrush="{StaticResource NormalBorderBrush}" BorderThickness="1">
                            <Path HorizontalAlignment="Center" VerticalAlignment="Center" Fill="{StaticResource GlyphBrush}" Data="{Binding Path=Content, RelativeSource={RelativeSource TemplatedParent}}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter TargetName="Border" Property="Background" Value="{StaticResource PressedBrush}" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="{StaticResource DisabledForegroundBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ScrollBarPageButton" TargetType="{x:Type RepeatButton}">
            <Setter Property="Visibility" Value="Hidden"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="true"/>
            <Setter Property="IsTabStop" Value="false"/>
            <Setter Property="Focusable" Value="false"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                        <Border Background="Black" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ScrollBarThumb" TargetType="{x:Type Thumb}">
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="true"/>
            <Setter Property="IsTabStop" Value="false"/>
            <Setter Property="Focusable" Value="false"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Border CornerRadius="4" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0"  Width="8" Margin="8,0,-2,0"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <ControlTemplate x:Key="VerticalScrollBar" TargetType="{x:Type ScrollBar}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition MaxHeight="0"/>
                    <RowDefinition Height="0.00001*"/>
                    <RowDefinition MaxHeight="0"/>
                </Grid.RowDefinitions>
                <Border Grid.RowSpan="3" CornerRadius="2" Background="Transparent" />
                <RepeatButton Grid.Row="0" Style="{StaticResource ScrollBarLineButton}" Height="18" Command="ScrollBar.LineUpCommand" Content="M 0 4 L 8 4 L 4 0 Z" />
                <Track Name="PART_Track" Grid.Row="1" IsDirectionReversed="true">
                    <Track.DecreaseRepeatButton>
                        <RepeatButton Style="{StaticResource ScrollBarPageButton}" Command="ScrollBar.PageUpCommand" />
                    </Track.DecreaseRepeatButton>
                    <Track.Thumb>
                        <Thumb Style="{StaticResource ScrollBarThumb}" Margin="1,0,1,0" Background="{StaticResource HorizontalNormalBrush}" BorderBrush="{StaticResource HorizontalNormalBorderBrush}" />
                    </Track.Thumb>
                    <Track.IncreaseRepeatButton>
                        <RepeatButton Style="{StaticResource ScrollBarPageButton}" Command="ScrollBar.PageDownCommand" />
                    </Track.IncreaseRepeatButton>
                </Track>
                <RepeatButton Grid.Row="3" Style="{StaticResource ScrollBarLineButton}" Height="18" Command="ScrollBar.LineDownCommand" Content="M 0 0 L 4 4 L 8 0 Z"/>
            </Grid>
        </ControlTemplate>
        <ControlTemplate x:Key="HorizontalScrollBar" TargetType="{x:Type ScrollBar}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition MaxWidth="18"/>
                    <ColumnDefinition Width="0.00001*"/>
                    <ColumnDefinition MaxWidth="18"/>
                </Grid.ColumnDefinitions>
                <Border Grid.ColumnSpan="3" CornerRadius="2" Background="#F0F0F0"/>
                <RepeatButton Grid.Column="0"  Style="{StaticResource ScrollBarLineButton}" Width="18" Command="ScrollBar.LineLeftCommand" Content="M 4 0 L 4 8 L 0 4 Z" />
                <Track Name="PART_Track" Grid.Column="1" IsDirectionReversed="False">
                    <Track.DecreaseRepeatButton>
                        <RepeatButton Style="{StaticResource ScrollBarPageButton}" Command="ScrollBar.PageLeftCommand" />
                    </Track.DecreaseRepeatButton>
                    <Track.Thumb>
                        <Thumb Style="{StaticResource ScrollBarThumb}" Margin="0,1,0,1" Background="{StaticResource NormalBrush}" BorderBrush="{StaticResource NormalBorderBrush}" />
                    </Track.Thumb>
                    <Track.IncreaseRepeatButton>
                        <RepeatButton Style="{StaticResource ScrollBarPageButton}" Command="ScrollBar.PageRightCommand" />
                    </Track.IncreaseRepeatButton>
                </Track>
                <RepeatButton Grid.Column="3" Style="{StaticResource ScrollBarLineButton}" Width="18" Command="ScrollBar.LineRightCommand" Content="M 0 0 L 4 4 L 0 8 Z"/>
            </Grid>
        </ControlTemplate>
        <Style x:Key="{x:Type ScrollBar}" TargetType="{x:Type ScrollBar}">
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="true"/>
            <Style.Triggers>
                <Trigger Property="Orientation" Value="Horizontal">
                    <Setter Property="Width" Value="Auto"/>
                    <Setter Property="Height" Value="18" />
                    <Setter Property="Template" Value="{StaticResource HorizontalScrollBar}" />
                </Trigger>
                <Trigger Property="Orientation" Value="Vertical">
                    <Setter Property="Width" Value="18"/>
                    <Setter Property="Height" Value="Auto" />
                    <Setter Property="Template" Value="{StaticResource VerticalScrollBar}" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="FavsScrollViewer" TargetType="{x:Type ScrollViewer}">
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ScrollViewer}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <ScrollContentPresenter Grid.Column="1"/>
                            <ScrollBar Name="PART_VerticalScrollBar" Value="{TemplateBinding VerticalOffset}" Maximum="{TemplateBinding ScrollableHeight}" ViewportSize="{TemplateBinding ViewportHeight}" Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"/>
                            <ScrollBar Name="PART_HorizontalScrollBar" Orientation="Horizontal" Grid.Row="1" Grid.Column="1" Value="{TemplateBinding HorizontalOffset}" Maximum="{TemplateBinding ScrollableWidth}" ViewportSize="{TemplateBinding ViewportWidth}" Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <convertor:InventoryIdToInventoryConvertor x:Key="myinventoryidtoinventoryconvertor"/>
        <convertor:CompanyIdToCompanyConvertor x:Key="mycompanyidtocompanyconvertor"/>
        <ControlTemplate x:Key="errorTemplate">
            <StackPanel>
                <AdornedElementPlaceholder/>
                <TextBlock Text="{Binding [0].ErrorContent}" Foreground="OrangeRed"
                            VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0 0 0 0"/>
            </StackPanel>

        </ControlTemplate>
    </UserControl.Resources>
    <Grid>
        <Grid>
            <materialDesign:DialogHost x:Name="RegisterPersonelDialog">
                <materialDesign:DialogHost.DialogContent>
                    <Grid Background="White">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="250"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="100"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <ComboBox SelectedIndex="{Binding Path=MySelectedImgeSourcesPersonel,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Grid.Row="0" Foreground="Black" FlowDirection="RightToLeft" Style="{DynamicResource MaterialDesignFloatingHintComboBox}" materialDesign:HintAssist.Hint="شیوه انتخاب تصویر فرد" materialDesign:HintAssist.HelperText="تصویر فرد مورد نظر" Width="200" Height="50">
                                <ComboBoxItem x:Name="Personel_op_1" Content="تصویر نامعلوم">
                                    <ComboBoxItem.Template>
                                        <ControlTemplate>
                                            <StackPanel Orientation="Horizontal" >
                                                <materialDesign:PackIcon Kind="Image" Margin="0 0 10 0"/>
                                                <TextBlock Foreground="Black" Text="{Binding ElementName=Personel_op_1,Path=Content,Mode=OneTime}" Margin="30 0 0 30"/>
                                            </StackPanel>
                                        </ControlTemplate>
                                    </ComboBoxItem.Template>
                                </ComboBoxItem>
                                <ComboBoxItem x:Name="Personel_op0" Content="انتخاب تصویر کلی">
                                    <ComboBoxItem.Template>
                                        <ControlTemplate>
                                            <StackPanel Orientation="Horizontal" >
                                                <materialDesign:PackIcon Kind="Image" Margin="0 0 10 0"/>
                                                <TextBlock Foreground="Black" Text="{Binding ElementName=Personel_op0,Path=Content,Mode=OneTime}" Margin="30 0 0 30"/>
                                            </StackPanel>
                                        </ControlTemplate>
                                    </ComboBoxItem.Template>
                                </ComboBoxItem>
                                <ComboBoxItem x:Name="Personel_op1" Content="استفاده از وب کم">
                                    <ComboBoxItem.Template>
                                        <ControlTemplate>
                                            <StackPanel Orientation="Horizontal" >
                                                <materialDesign:PackIcon Kind="Image" Margin="0 0 10 0"/>
                                                <TextBlock Foreground="Black" Text="{Binding ElementName=Personel_op1,Path=Content,Mode=OneTime}" Margin="30 0 0 30"/>
                                            </StackPanel>
                                        </ControlTemplate>
                                    </ComboBoxItem.Template>
                                </ComboBoxItem>
                                <ComboBoxItem x:Name="Personel_op2" Content="استفاده از تصویر">
                                    <ComboBoxItem.Template>
                                        <ControlTemplate>
                                            <StackPanel Orientation="Horizontal" >
                                                <materialDesign:PackIcon Kind="Image" Margin="0 0 10 0"/>
                                                <TextBlock Foreground="Black" Text="{Binding ElementName=Personel_op2,Path=Content,Mode=OneTime}" Margin="30 0 0 30"/>
                                            </StackPanel>
                                        </ControlTemplate>
                                    </ComboBoxItem.Template>
                                </ComboBoxItem>
                            </ComboBox>
                            <Grid Grid.Row="1">
                                <Grid  Visibility="{Binding MyImageSourceVisibility_1_personel, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                    <Image  HorizontalAlignment="Center" Height="250" VerticalAlignment="Center" Width="250"  Source="{Binding MyResultImage_personel,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                                </Grid>
                                <Grid  Visibility="{Binding MyImageSourceVisibility0_personel, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                    <Image  HorizontalAlignment="Center" Height="250" VerticalAlignment="Center" Width="250"  Source="{Binding MyResultImage_personel,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                                </Grid>
                                <Grid  Visibility="{Binding MyImageSourceVisibility1_personel, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                    <StackPanel>
                                        <ComboBox Style="{DynamicResource MaterialDesignFloatingHintComboBox}" Width="200" Height="50" FlowDirection="RightToLeft" materialDesign:HintAssist.Hint="انتخاب وب کم" ItemsSource="{Binding ListofWebcams}" Margin="20" SelectedIndex="{Binding Path=MyWebCamSelectedIndex,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                                        <Image  HorizontalAlignment="Center" Height="215" VerticalAlignment="Center" Width="240"  Source="{Binding MyWebCamImage_person,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                                        <Button Command="{Binding MyPersonelGetPictureFromWebComCommand}"  Style="{DynamicResource MaterialDesignFlatDarkBgButton}" Width="150" Height="65" FlowDirection="RightToLeft">
                                            <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                <materialDesign:PackIcon VerticalAlignment="Center" Kind="Image"/>
                                                <TextBlock FontSize="12" Margin="30 0 10 0" Text="گرفتن تصویر" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                            </Grid>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                                <Grid  Visibility="{Binding MyImageSourceVisibility2_personel}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="4*"/>
                                        <RowDefinition Height="2*"/>
                                    </Grid.RowDefinitions>
                                    <Border Grid.Row="0" Margin="20" CornerRadius="10" BorderBrush="#FF9470B9" BorderThickness="2">
                                        <StackPanel>
                                            <Image Source="{Binding NewPersonel.PersonelImage}" >
                                            </Image>
                                            <Label />
                                        </StackPanel>
                                    </Border>
                                    <StackPanel Grid.Row="1">
                                        <Label  Panel.ZIndex="1" Content="تصویر را به اینجا بیندازید" HorizontalAlignment="Center" Margin="10 0 10 15" FontFamily="Calibri" FontWeight="Bold" FontSize="14"/>
                                        <StackPanel Margin="0 -20 0 50" AllowDrop="True" Drop="StackPanel_DropPersonel" Panel.ZIndex="5" >
                                            <Border CornerRadius="15" Background="Gray" Height="80">

                                            </Border>
                                        </StackPanel>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Grid>
                        <Grid Grid.Column="1" Margin="10">
                            <StackPanel>
                                <Button HorizontalAlignment="Left" ToolTip="بستن" Click="closeNewPersonelDialog" Style="{DynamicResource MaterialDesignFloatingActionDarkButton}">
                                    <materialDesign:PackIcon Kind="Close" Foreground="OrangeRed"/>
                                </Button>
                                <materialDesign:Snackbar FlowDirection="RightToLeft" MessageQueue="{Binding MainMessageQueue_personelMessage}" IsActive="{Binding MainSnackIsActive_personelIsActive}"/>
                                <Border Margin="0 0 0 8" CornerRadius="10" BorderBrush="Black" BorderThickness="2">
                                    
                                    <StackPanel>
                                        <Grid Margin="10 15 8 0" FlowDirection="RightToLeft">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBox Validation.ErrorTemplate="{StaticResource errorTemplate}" Grid.Column="0"  Width="150" Height="50" HorizontalAlignment="Right"  Style="{DynamicResource MaterialDesignFloatingHintTextBox}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft" VerticalAlignment="Top" Margin="0 0 0 0"
                         Text="{Binding NewPersonel.FirstName,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                                <materialDesign:HintAssist.Hint>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Text="نام "/>
                                                        <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                                    </StackPanel>
                                                </materialDesign:HintAssist.Hint>
                                            </TextBox>
                                            <TextBox Grid.Column="1" 
                             Width="150" Height="50" Style="{DynamicResource MaterialDesignFloatingHintTextBox}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"  VerticalAlignment="Bottom" HorizontalAlignment="Center"
                             Margin="0 0 0 0" Validation.ErrorTemplate="{StaticResource errorTemplate}" 
                             Text="{Binding NewPersonel.LastName,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                                <materialDesign:HintAssist.Hint>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Text="نام خانوادگی"/>
                                                        <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                                    </StackPanel>
                                                </materialDesign:HintAssist.Hint>
                                            </TextBox>
                                        </Grid>
                                        <Grid Margin="10 0 8 0" FlowDirection="RightToLeft">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="0" HorizontalAlignment="Right" 
                             Width="150" Height="50" FlowDirection="RightToLeft" VerticalAlignment="Top" 
                             Margin="0 20 0 0">
                                                <TextBox  Validation.ErrorTemplate="{StaticResource errorTemplate}" Style="{DynamicResource MaterialDesignFloatingHintTextBox}" materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"
                                 Text="{Binding NewPersonel.PersonelyNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                                    <materialDesign:HintAssist.Hint>
                                                        <StackPanel Orientation="Horizontal">
                                                            <TextBlock Text="شماره پرسنلی"/>
                                                            <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                                        </StackPanel>
                                                    </materialDesign:HintAssist.Hint>
                                                </TextBox>
                                            </Grid>
                                            <TextBox Text="{Binding NewPersonel.Department,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Grid.Column="1" materialDesign:HintAssist.HelperText="دپارتمان محل کار"
                               materialDesign:HintAssist.Hint="دپارتمان"
                               Width="150"  materialDesign:HintAssist.IsFloating="True"  VerticalAlignment="Bottom" HorizontalAlignment="Center" Style="{DynamicResource MaterialDesignFloatingHintTextBox}" >
                                            </TextBox>
                                        </Grid>
                                        <Grid Margin="10 0 8 0" FlowDirection="RightToLeft">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="0" HorizontalAlignment="Right" 
                             Width="150" Height="50" FlowDirection="RightToLeft" VerticalAlignment="Top" 
                             Margin="0 20 0 0">
                                                <TextBox   Style="{DynamicResource MaterialDesignFloatingHintTextBox}" materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"
                                 Text="{Binding NewPersonel.JobTitle, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                    <materialDesign:HintAssist.Hint>
                                                        <StackPanel Orientation="Horizontal">
                                                            <TextBlock Text="عنوان شغل"/>
                                                        </StackPanel>
                                                    </materialDesign:HintAssist.Hint>
                                                </TextBox>
                                            </Grid>
                                            <TextBox Text="{Binding NewPersonel.TitleInReal,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Grid.Column="1" materialDesign:HintAssist.HelperText="دپارتمان محل کار"
                               materialDesign:HintAssist.Hint="عنوان سمت"
                               Width="150"  materialDesign:HintAssist.IsFloating="True"  VerticalAlignment="Bottom" HorizontalAlignment="Center" Style="{DynamicResource MaterialDesignFloatingHintTextBox}" >
                                            </TextBox>
                                        </Grid>
                                        <Grid Margin="10 0 8 0" FlowDirection="RightToLeft">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="0" HorizontalAlignment="Right" 
                             Width="150" Height="50" FlowDirection="RightToLeft" VerticalAlignment="Top" 
                             Margin="0 20 0 0">
                                                <TextBox Style="{DynamicResource MaterialDesignFloatingHintTextBox}" materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"
                                materialDesign:HintAssist.HelperText="شرکت محل کار" Text="{Binding NewPersonel.Company, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                                    <materialDesign:HintAssist.Hint>
                                                        <StackPanel Orientation="Horizontal">
                                                            <TextBlock Text="شرکت"/>
                                                        </StackPanel>
                                                    </materialDesign:HintAssist.Hint>
                                                </TextBox>
                                            </Grid>
                                            <TextBox Text="{Binding NewPersonel.Department,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Grid.Column="1" materialDesign:HintAssist.HelperText="دپارتمان محل کار"
                               materialDesign:HintAssist.Hint="عنوان سمت"
                               Width="150"  materialDesign:HintAssist.IsFloating="True"  VerticalAlignment="Bottom" HorizontalAlignment="Center" Style="{DynamicResource MaterialDesignFloatingHintTextBox}" >
                                            </TextBox>
                                        </Grid>
                                        <Button Command="{Binding MyRegisterNewPersonelCommand}"  Style="{DynamicResource MaterialDesignFlatDarkBgButton}" Margin="20 40 20 20" Width="100" Height="30" HorizontalAlignment="Center">
                                            <Button.Content>
                                                <TextBlock Text="ثبت پرسنل" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Button.Content>
                                        </Button>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </Grid>
                </materialDesign:DialogHost.DialogContent>
            </materialDesign:DialogHost>
            <materialDesign:DialogHost x:Name="ExitMaterialDialog">
                <materialDesign:DialogHost.DialogContent>
                    <Border CornerRadius="20" Background="White" Width="500" Height="430">
                        <Border.Effect>
                            <DropShadowEffect Direction="418" RenderingBias="Quality" BlurRadius="56" ShadowDepth="26"/>
                        </Border.Effect>
                        <ScrollViewer>
                            <StackPanel  Width="470" FlowDirection="RightToLeft">
                                <Button Click="CloseExitMaterialDialog" Margin="8" Width="30" Height="30" Background="OrangeRed" Style="{DynamicResource MaterialDesignFloatingActionButton}" HorizontalAlignment="Right">
                        <materialDesign:PackIcon Kind="Close" Width="20" Height="20" />
                    </Button>
                                <materialDesign:Snackbar FlowDirection="RightToLeft" Foreground="OrangeRed" MessageQueue="{Binding MainMessageQueue1}" IsActive="{Binding MainSnackIsActive1}"/>
                                <TextBlock Style="{DynamicResource MaterialDesignHeadline4TextBlock}"  HorizontalAlignment="Center">
                    <StackPanel Orientation="Horizontal">
                       <Ellipse Margin="0 0 20 0" VerticalAlignment="Center" Width="80" Height="80">
                         <Ellipse.Fill>
                             <ImageBrush ImageSource="{Binding MatrialToExit.MaterialImage}" />
                         </Ellipse.Fill>
                       </Ellipse>
                        <TextBlock VerticalAlignment="Center" Text="{Binding MatrialToExit.Name}"/>
                    </StackPanel>
                </TextBlock>
                                <TextBox Text="{Binding PublicNumber,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Style="{DynamicResource MaterialDesignFloatingHintTextBox}">
                                    <materialDesign:HintAssist.Hint>
                                        <StackPanel Margin="10" VerticalAlignment="Center" Orientation="Horizontal">
                                            <TextBlock VerticalAlignment="Center" Text="تعداد خروجی"/>
                                            <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </materialDesign:HintAssist.Hint>
                                </TextBox>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="0" HorizontalAlignment="Left" 
                             Width="200" Height="50" FlowDirection="RightToLeft" VerticalAlignment="Top" 
                             Margin="0 20 0 0">
                                        <ComboBox HorizontalAlignment="Left" IsTextSearchCaseSensitive="False" Width="150" x:Name="PersonelKeyUpname1" IsEditable="True" KeyUp="PersonelKeyUp1" IsTextSearchEnabled="False" KeyDown="PersonelKeyUpname1_KeyDown" GotFocus="PersonelKeyUpname1_GotFocus" ItemsSource="{Binding NameofPersonels1,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  Validation.ErrorTemplate="{StaticResource errorTemplate}" Style="{DynamicResource MaterialDesignFloatingHintComboBox}" materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"
                                Margin="0 7 0 0" SelectedItem="{Binding MatrialToExit.MaterialGiverToUserMain, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                            <ComboBox.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Orientation="Horizontal" Margin="8">
                                                        <TextBlock Text="{Binding FirstName}" Margin="8 0 0 8"/>
                                                        <TextBlock Text="{Binding LastName}" Margin="8 0 0 8"/>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ComboBox.ItemTemplate>
                                            <materialDesign:HintAssist.Hint>
                                                <StackPanel Margin="1" VerticalAlignment="Center" Orientation="Horizontal">
                                                    <TextBlock VerticalAlignment="Center" Text="تحویل دهنده از انبار"/>
                                                    <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </materialDesign:HintAssist.Hint>
                                        </ComboBox>
                                        <Button CommandTarget="{Binding ElementName=RegisterPersonelDialog}" Command="{x:Static materialDesign:DialogHost.OpenDialogCommand}" 
                                Style="{DynamicResource MaterialDesignFloatingActionDarkButton}" Width="20" Height="20"
                                ToolTip="افزدون پرسنل" HorizontalAlignment="Right">
                                            <materialDesign:PackIcon Kind="Add" VerticalAlignment="Center"
                                                     HorizontalAlignment="Center"/>
                                        </Button>
                                    </Grid>
                                    <Grid Grid.Column="1" HorizontalAlignment="Left" 
                             Width="200" Height="50" FlowDirection="RightToLeft" VerticalAlignment="Top" 
                             Margin="0 20 0 0">
                                        <ComboBox HorizontalAlignment="Left"  IsTextSearchCaseSensitive="False" Width="150" x:Name="PersonelKeyUpname2" IsEditable="True" KeyUp="PersonelKeyUp2" IsTextSearchEnabled="False" KeyDown="PersonelKeyUpname2_KeyDown" GotFocus="PersonelKeyUpname2_GotFocus" ItemsSource="{Binding NameofPersonels2, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  Validation.ErrorTemplate="{StaticResource errorTemplate}" Style="{DynamicResource MaterialDesignFloatingHintComboBox}" materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"
                                Margin="0 0 0 0" SelectedItem="{Binding MatrialToExit.MaterialGiverToUserSecondary, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                            <materialDesign:HintAssist.Hint>
                                                <StackPanel Margin="1" VerticalAlignment="Center" Orientation="Horizontal">
                                                    <TextBlock VerticalAlignment="Center" Text="تحویل دهنده به کاربر"/>
                                                    <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </materialDesign:HintAssist.Hint>
                                            <ComboBox.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Orientation="Horizontal" Margin="8">
                                                        <TextBlock Text="{Binding FirstName}" Margin="8 0 0 8"/>
                                                        <TextBlock Text="{Binding LastName}" Margin="8 0 0 8"/>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ComboBox.ItemTemplate>
                                        </ComboBox>
                                        <Button CommandTarget="{Binding ElementName=RegisterPersonelDialog}" Command="{x:Static materialDesign:DialogHost.OpenDialogCommand}" 
                                Style="{DynamicResource MaterialDesignFloatingActionDarkButton}" Width="20" Height="20"
                                ToolTip="افزدون پرسنل" HorizontalAlignment="Right">
                                            <materialDesign:PackIcon Kind="Add" VerticalAlignment="Center"
                                                     HorizontalAlignment="Center"/>
                                        </Button>
                                    </Grid>

                                </Grid>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="0" HorizontalAlignment="Left" 
                             Width="200" Height="50" FlowDirection="RightToLeft" VerticalAlignment="Top" 
                             Margin="0 20 0 0">
                                        <ComboBox HorizontalAlignment="Left" IsTextSearchCaseSensitive="False" Width="150" x:Name="PersonelKeyUpname3" IsEditable="True" KeyUp="PersonelKeyUp3" IsTextSearchEnabled="False" KeyDown="PersonelKeyUpname3_KeyDown" GotFocus="PersonelKeyUpname3_GotFocus" ItemsSource="{Binding NameofPersonels3, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  Validation.ErrorTemplate="{StaticResource errorTemplate}" Style="{DynamicResource MaterialDesignFloatingHintComboBox}" materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"
                                Margin="0 7 0 0" SelectedItem="{Binding MatrialToExit.MaterialUser, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                            <ComboBox.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Orientation="Horizontal" Margin="8">
                                                        <TextBlock Text="{Binding FirstName}" Margin="8 0 0 8"/>
                                                        <TextBlock Text="{Binding LastName}" Margin="8 0 0 8"/>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ComboBox.ItemTemplate>
                                            <materialDesign:HintAssist.Hint>
                                                <StackPanel Margin="1" VerticalAlignment="Center" Orientation="Horizontal">
                                                    <TextBlock VerticalAlignment="Center" Text="کاربر"/>
                                                    <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </materialDesign:HintAssist.Hint>
                                        </ComboBox>
                                        <Button CommandTarget="{Binding ElementName=RegisterPersonelDialog}" Command="{x:Static materialDesign:DialogHost.OpenDialogCommand}" 
                                Style="{DynamicResource MaterialDesignFloatingActionDarkButton}" Width="20" Height="20"
                                ToolTip="افزدون پرسنل" HorizontalAlignment="Right">
                                            <materialDesign:PackIcon Kind="Add" VerticalAlignment="Center"
                                                     HorizontalAlignment="Center"/>
                                        </Button>
                                    </Grid>
                                    <TextBox Text="{Binding MatrialToExit.MaterialUserRequestNumber,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Grid.Column="1" Style="{DynamicResource MaterialDesignFloatingHintTextBox}">
                                        <materialDesign:HintAssist.Hint>
                                            <StackPanel Margin="10" VerticalAlignment="Center" Orientation="Horizontal">
                                                <TextBlock VerticalAlignment="Center" Text="شماره درخواست کاربر"/>
                                                <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed" VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </materialDesign:HintAssist.Hint>
                                    </TextBox>
                                </Grid>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Background="gray" FlowDirection="RightToLeft" materialDesign:HintAssist.HelperText="زمان ورود به انبار" Orientation="Horizontal" Grid.Column="0">
                                        <DatePicker Text="{Binding MatrialToExit.DateofEntrancetoStore,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  Style="{DynamicResource MaterialDesignFloatingHintDatePicker}" VerticalAlignment="Center" Margin="0" Width="120" >
                                            <materialDesign:HintAssist.Hint>
                                                <StackPanel  VerticalAlignment="Center" Orientation="Horizontal">
                                                    <TextBlock VerticalAlignment="Center" Text="تاریخ ورود"/>
                                                </StackPanel>
                                            </materialDesign:HintAssist.Hint>
                                        </DatePicker>
                                        <materialDesign:TimePicker Text="{Binding MatrialToExit.TimeofEntrancetoStore,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  Style="{DynamicResource MaterialDesignFloatingHintTimePicker }"  Margin="0,9,0,2.4" Width="110" >
                                            <materialDesign:HintAssist.Hint>
                                                <TextBlock Text="زمان"/>
                                            </materialDesign:HintAssist.Hint>
                                        </materialDesign:TimePicker>
                                    </StackPanel>
                                    <StackPanel Background="LightGray" FlowDirection="RightToLeft" materialDesign:HintAssist.HelperText="زمان تحول به کاربر" Orientation="Horizontal" Grid.Column="1">
                                        <DatePicker Text="{Binding MatrialToExit.DateofExitofStore,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  Style="{DynamicResource MaterialDesignFloatingHintDatePicker}" VerticalAlignment="Center" Margin="0" Width="120">
                                            <materialDesign:HintAssist.Hint>
                                                <StackPanel Margin="5,-6,0,5" VerticalAlignment="Center" Orientation="Horizontal">
                                                    <TextBlock VerticalAlignment="Center" Text="تاریخ تحویل"/>
                                                    <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </materialDesign:HintAssist.Hint>
                                        </DatePicker>
                                        <materialDesign:TimePicker Text="{Binding MatrialToExit.TimeofExitofStore,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint=" زمان"  Style="{DynamicResource MaterialDesignFloatingHintTimePicker }" Margin="0,9,0,2.4" Width="75" />
                                    </StackPanel>
                                </Grid>
                                <TextBox TextWrapping="Wrap" Text="{Binding MatrialToExit.OtherDetails,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Grid.Column="1" Style="{DynamicResource MaterialDesignFloatingHintTextBox}">
                                    <materialDesign:HintAssist.Hint>
                                        <StackPanel Margin="4" VerticalAlignment="Center" Orientation="Horizontal">
                                            <TextBlock VerticalAlignment="Center" Text="توضیحات" TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </materialDesign:HintAssist.Hint>
                                </TextBox>
                                <Button Command="{Binding MyApplyChangesInExitMaterialDialog}" CommandParameter="{Binding MatrialToExit}" Content="اعمال تغییرات" Width="140" Height="30" Margin="0 23 0 0">

                                </Button>
                            </StackPanel>
                        </ScrollViewer>
                    </Border>
                </materialDesign:DialogHost.DialogContent>
            </materialDesign:DialogHost>
            <materialDesign:DialogHost x:Name="MoreDitailsofofMaterialBuyingDialog">
                <materialDesign:DialogHost.DialogContent>
                    <StackPanel  >
                        <Button HorizontalAlignment="Left" Margin="5" Background="OrangeRed" Style="{DynamicResource MaterialDesignFloatingActionButton}" Click="closeMoreDitailsofofMaterialBuyingDialog">
                            <materialDesign:PackIcon Kind="Close"/>
                        </Button>
                        <materialDesign:Snackbar FlowDirection="RightToLeft" MessageQueue="{Binding MyMainMessageQueue}" IsActive="{Binding MyMainSnackIsActive}"/>
                        <Border    HorizontalAlignment="Center" Width="400" Height="55" Style="{DynamicResource MaterialDesignToolBarMainPanelBorderStyle}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft" VerticalAlignment="Top" Margin="50,0">
                            <StackPanel Orientation="Horizontal">
                                <Ellipse Width="40" Height="40" VerticalAlignment="Center">
                                    <Ellipse.Fill>
                                        <ImageBrush ImageSource="{Binding NewMaterial.MaterialImage}"/>
                                    </Ellipse.Fill>
                                </Ellipse>
                                <TextBox Text="{Binding testNewMaterialName,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="10 0 0 10"/>
                            </StackPanel>
                            <materialDesign:HintAssist.Hint>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="نام کالا"/>
                                    <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                </StackPanel>
                            </materialDesign:HintAssist.Hint>
                        </Border>
                        <Grid Margin="10 0 8 0" FlowDirection="RightToLeft">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="0" HorizontalAlignment="Right" 
                             Width="200" Height="50" FlowDirection="RightToLeft" VerticalAlignment="Top" 
                             Margin="0 20 0 0">
                                <TextBox   Style="{DynamicResource MaterialDesignFloatingHintTextBox}" materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"
                                 Text="{Binding NewMaterial.MaterialReceiptnumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                    <materialDesign:HintAssist.Hint>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="شماره فاکتور خرید"/>
                                            <!--<materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>-->
                                        </StackPanel>
                                    </materialDesign:HintAssist.Hint>
                                </TextBox>

                            </Grid>
                            <ComboBox SelectedIndex="{Binding NewMaterial.ICTSection,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Grid.Column="1" materialDesign:HintAssist.HelperText="مربوط به کدام بخش می باشد"
                               materialDesign:HintAssist.Hint="ِبخش مربوطه"
                               Width="150"  materialDesign:HintAssist.IsFloating="True"  VerticalAlignment="Bottom" HorizontalAlignment="Center" IsEditable="True" Style="{DynamicResource MaterialDesignFloatingHintComboBox}" >
                                <ComboBoxItem HorizontalAlignment="Center" Content="Telecom"/>
                                <ComboBoxItem HorizontalAlignment="Center" Content="IT and Network"/>
                                <ComboBoxItem HorizontalAlignment="Center" Content="Field"/>
                            </ComboBox>
                        </Grid>
                        <Grid Margin="10 15 8 0" FlowDirection="RightToLeft">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox Grid.Column="0" HorizontalAlignment="Right" 
                             Width="200" Height="50" Style="{DynamicResource MaterialDesignFloatingHintTextBox}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft" VerticalAlignment="Top" 
                             Margin="0 0 0 0" Validation.ErrorTemplate="{StaticResource errorTemplate}"
                             Text="{Binding NewMaterial.MinimumAcceptableDevices,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                <materialDesign:HintAssist.Hint>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="حداقل تعداد مورد نیاز"/>
                                        <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                    </StackPanel>
                                </materialDesign:HintAssist.Hint>
                            </TextBox>
                            <ComboBox SelectedIndex="{Binding NewMaterial.IsAccessory,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Grid.Column="1" materialDesign:HintAssist.HelperText="آیا قطعه یدکی است؟"
                               materialDesign:HintAssist.Hint="ِیدکی یا اصلی"
                               Width="150" materialDesign:HintAssist.IsFloating="True"  VerticalAlignment="Bottom" HorizontalAlignment="Center" IsEditable="True" Style="{DynamicResource MaterialDesignFloatingHintComboBox}" >
                                <ComboBoxItem HorizontalAlignment="Center" Content="قطعه یدکی است"/>
                                <ComboBoxItem HorizontalAlignment="Center" Content="قطعه اصلی است"/>
                            </ComboBox>
                        </Grid>
                        <Grid Margin="10 15 8 0" FlowDirection="RightToLeft">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox Validation.ErrorTemplate="{StaticResource errorTemplate}" Grid.Column="0"  Width="200" Height="50" HorizontalAlignment="Right"  Style="{DynamicResource MaterialDesignFloatingHintTextBox}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft" VerticalAlignment="Top" Margin="0 0 0 0"
                         Text="{Binding NewMaterial.MaterialRequester,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                <materialDesign:HintAssist.Hint>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="نام درخواست دهنده"/>
                                        <!--<materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>-->
                                    </StackPanel>
                                </materialDesign:HintAssist.Hint>
                            </TextBox>
                            <TextBox Grid.Column="1" 
                             Width="150" Height="50" Style="{DynamicResource MaterialDesignFloatingHintTextBox}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"  VerticalAlignment="Bottom" HorizontalAlignment="Center"
                             Margin="0 0 0 0" Validation.ErrorTemplate="{StaticResource errorTemplate}" 
                             Text="{Binding MyNumofMaterial,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                <materialDesign:HintAssist.Hint>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="تعداد "/>
                                        <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                    </StackPanel>
                                </materialDesign:HintAssist.Hint>
                            </TextBox>
                        </Grid>
                        <Grid Margin="10 0 8 0" FlowDirection="RightToLeft">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="0" HorizontalAlignment="Right" 
                             Width="200" Height="50" FlowDirection="RightToLeft" VerticalAlignment="Top" 
                             Margin="0 20 0 0">
                                <TextBox  Validation.ErrorTemplate="{StaticResource errorTemplate}" Style="{DynamicResource MaterialDesignFloatingHintTextBox}" materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"
                                 Text="{Binding NewMaterial.MaterialUser, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                    <materialDesign:HintAssist.Hint>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="کاربر"/>
                                        </StackPanel>
                                    </materialDesign:HintAssist.Hint>
                                </TextBox>
                            </Grid>
                            <TextBox Grid.Column="1" IsReadOnly="True"
                             Width="150" Height="50" Style="{DynamicResource MaterialDesignFloatingHintTextBox}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft"  VerticalAlignment="Bottom" HorizontalAlignment="Center"
                             Margin="0 0 0 0" Validation.ErrorTemplate="{StaticResource errorTemplate}" 
                             Text="{Binding NewMaterial.RemainedNumber,Mode=OneWay,UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                <materialDesign:HintAssist.Hint>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="تعداد موجود"/>
                                    </StackPanel>
                                </materialDesign:HintAssist.Hint>
                            </TextBox>
                        </Grid>
                        <StackPanel Margin="0 0 6 10" HorizontalAlignment="Center" Orientation="Horizontal" FlowDirection="RightToLeft">
                            <ComboBox IsEditable="True" SelectedItem="{Binding MyInventory,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" ItemsSource="{Binding NameOFStores}"  Width="400" Height="50" Style="{DynamicResource MaterialDesignFloatingHintComboBox}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft" VerticalAlignment="Top" Margin="50 0 0 0">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                            <materialDesign:PackIcon VerticalAlignment="Center" Kind="Company"/>
                                            <Label Content="{Binding Id}" Visibility="Hidden"/>
                                            <TextBlock Text="{Binding Name}" VerticalAlignment="Center"/>
                                            <TextBlock Text="{Binding Location}" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                                <materialDesign:HintAssist.Hint>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="انبار ذخیره کالا"/>
                                        <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                    </StackPanel>
                                </materialDesign:HintAssist.Hint>
                            </ComboBox>
                        </StackPanel>
                        <StackPanel Margin="0 0 6 10" HorizontalAlignment="Center" Orientation="Horizontal" FlowDirection="RightToLeft">
                            <ComboBox IsEditable="True" SelectedItem="{Binding MyCompany,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" ItemsSource="{Binding ListofCompanies}"  Width="400" Height="50" Style="{DynamicResource MaterialDesignFloatingHintComboBox}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft" VerticalAlignment="Top" Margin="50 0 0 0">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                            <materialDesign:PackIcon VerticalAlignment="Center" Kind="Company"/>
                                            <Label Content="{Binding Id}" Visibility="Hidden"/>
                                            <TextBlock Text="{Binding NameofCompany}" VerticalAlignment="Center"/>
                                            <TextBlock Text="{Binding CallNumber}" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                                <materialDesign:HintAssist.Hint>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="شرکت تامین کننده کالا"/>
                                        <!--<materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>-->
                                    </StackPanel>
                                </materialDesign:HintAssist.Hint>
                            </ComboBox>
                        </StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Background="LightGray" FlowDirection="RightToLeft"  Orientation="Horizontal" Grid.Column="0">
                                <DatePicker Validation.ErrorTemplate="{StaticResource errorTemplate}"
                        Text="{Binding NewMaterial.DateofBuying,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"  Style="{DynamicResource MaterialDesignFloatingHintDatePicker}" VerticalAlignment="Center" Margin="0" Width="90" >
                                    <materialDesign:HintAssist.Hint>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="تاریخ خرید"/>
                                            <!--<materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>-->
                                        </StackPanel>
                                    </materialDesign:HintAssist.Hint>
                                </DatePicker>
                                <materialDesign:TimePicker 
                        Text="{Binding NewMaterial.TimeofBuying,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint=" زمان"  Style="{DynamicResource MaterialDesignFloatingHintTimePicker }" Margin="0,9,0,2.4" Width="76" />
                            </StackPanel>
                            <StackPanel Background="gray" FlowDirection="RightToLeft" materialDesign:HintAssist.HelperText="زمان ورود به انبار" Orientation="Horizontal" Grid.Column="1">
                                <DatePicker Text="{Binding NewMaterial.DateofEntrancetoStore,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint="انتخاب تاریخ" Style="{DynamicResource MaterialDesignFloatingHintDatePicker}" VerticalAlignment="Center" Margin="0" Width="90" />
                                <materialDesign:TimePicker Text="{Binding NewMaterial.TimeofEntrancetoStore,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint=" زمان"  Style="{DynamicResource MaterialDesignFloatingHintTimePicker }" Margin="0,9,0,2.4" Width="74" />
                            </StackPanel>
                            <StackPanel Background="LightGray" FlowDirection="RightToLeft" materialDesign:HintAssist.HelperText="زمان تحول به کاربر" Orientation="Horizontal" Grid.Column="2">
                                <DatePicker Text="{Binding NewMaterial.DateofExitofStore,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint="انتخاب تاریخ" Style="{DynamicResource MaterialDesignFloatingHintDatePicker}" VerticalAlignment="Center" Margin="0" Width="90" />
                                <materialDesign:TimePicker Text="{Binding NewMaterial.TimeofExitofStore,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint=" زمان"  Style="{DynamicResource MaterialDesignFloatingHintTimePicker }" Margin="0,9,0,2.4" Width="75" />
                            </StackPanel>
                        </Grid>
                        <Button Command="{Binding MyRegisterNewMaterialCommand}" CommandParameter="{Binding NewMaterial}" Style="{DynamicResource MaterialDesignFlatDarkBgButton}" Margin="20 40 20 20" Width="150" Height="30" HorizontalAlignment="Center">
                            <Button.Content>
                                <TextBlock Text="تغییر اطلاعات" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Button.Content>
                        </Button>
                    </StackPanel>
                </materialDesign:DialogHost.DialogContent>
            </materialDesign:DialogHost>
            <materialDesign:DialogHost  x:Name="DitailsofofMaterialBuyingDialog">
                <materialDesign:DialogHost.DialogContent>
                    <StackPanel>
                        <Button Margin="5" HorizontalAlignment="Left" Click="closeDitailsofofMaterialBuyingDialog" Style="{DynamicResource MaterialDesignFloatingActionButton}" Background="OrangeRed">
                            <materialDesign:PackIcon Kind="Cross"/>
                        </Button>
                        <ScrollViewer Height="300">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <ListView FlowDirection="RightToLeft" ItemsSource="{Binding listofSearchedMaterials}" Margin="7,0,-6.8,-0.4">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn  Header="نام کالا">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Border Width="80">
                                                            <TextBlock Text="{Binding Name}"  HorizontalAlignment="Center"/>
                                                        </Border>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn  Header="تعداد خرید">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Border  Width="80" >
                                                            <TextBlock Text="{Binding NumberofMaterial}"  HorizontalAlignment="Center"/>
                                                        </Border>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="شماره فاکتور" >
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Border  Width="80" >
                                                            <TextBlock Text="{Binding MaterialReceiptnumber}"  HorizontalAlignment="Center"/>
                                                        </Border>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn >
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button   CommandParameter="{Binding Id}"  
                                                         Click="OpenMoreDitailsofofMaterialBuyingDialog"
                                                         ToolTip="جزییات بیشتر" 
                                                         Style="{DynamicResource MaterialDesignFlatMidBgButton}"
                                                         Content="جزییات"/>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn >
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Click="OpenExitMaterialDialogParticular" 
                                                    CommandParameter="{Binding Id}"     
                                ToolTip="خروج کالا از انبار" Style="{DynamicResource MaterialDesignFlatDarkBgButton}"
                                                        Content="خروج کالا"/>

                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </Grid>
                        </ScrollViewer>
                    </StackPanel>
                </materialDesign:DialogHost.DialogContent>
            </materialDesign:DialogHost>
            <materialDesign:DialogHost IsOpen="False" x:Name="MyDateDialog">
                <materialDesign:DialogHost.DialogContent>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0" Orientation="Horizontal">
                            <Calendar x:Name="CombinedCalendar" Margin="-1 -4 -1 0"/>
                            <materialDesign:Clock x:Name="CombinedClock"
                      DisplayAutomation="CycleWithSeconds"
                       Is24Hours="True"/>
                        </StackPanel>
                        <StackPanel Grid.Row="1" Margin="8" HorizontalAlignment="Right"
                     Orientation="Horizontal">
                            <Button Style="{DynamicResource MaterialDesignFlatButton}"
                       materialDesign:DialogHost.DialogClosing="Button_DialogClosing" Command="{x:Static materialDesign:DialogHost.CloseDialogCommand}"
                      CommandParameter="0"
                      Content="CANCEL"/>
                            <Button materialDesign:DialogHost.DialogClosing="Button_DialogClosing" Style="{DynamicResource MaterialDesignFlatButton}"
                        Command="{x:Static materialDesign:DialogHost.CloseDialogCommand}"
                        CommandParameter="1"
                        Content="OK"/>
                        </StackPanel>
                    </Grid>
                </materialDesign:DialogHost.DialogContent>
            </materialDesign:DialogHost>
            <Grid Background="White">
                <Grid.RowDefinitions>
                    <RowDefinition Height="260"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0">
                    <Grid>
                        <Rectangle Panel.ZIndex="1" VerticalAlignment="Top" RadiusX="8" RadiusY="8" Margin="24,25,20,0" Height="80" Fill="#FFEBECEE"></Rectangle>
                        <Rectangle Panel.ZIndex="2" VerticalAlignment="Top" RadiusX="8" RadiusY="8" Margin="21,35,18,0" Height="130" Fill="White" StrokeThickness="0" >
                            <Rectangle.Effect>
                                <DropShadowEffect RenderingBias="Quality" ShadowDepth="0" Direction="351" BlurRadius="12" Color="#FF0E0D0D"/>
                            </Rectangle.Effect>
                        </Rectangle>
                        <Grid VerticalAlignment="top" Panel.ZIndex="10" Margin="30">
                            <StackPanel  HorizontalAlignment="Stretch" Panel.ZIndex="15" Orientation="Horizontal" Margin="0,0,0,-52" >
                                <materialDesign:Flipper Margin="0 0 0 0" VerticalAlignment="Top">
                                    <materialDesign:Flipper.FrontContent>
                                        <Grid Width="200" Margin="0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="160" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <ComboBox Padding="5 0 0 5" Foreground="Black"   FlowDirection="RightToLeft" x:Name="Inventorysearch" GotFocus="Inventorysearch_GotFocus" KeyDown="Inventorysearch_KeyDown"
                                        Width="150" KeyUp="Inventorysearchkeyup" IsEditable="True" SelectedItem="{Binding MaterialStoretoSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" ItemsSource="{Binding NameOFStores,UpdateSourceTrigger=PropertyChanged}" Style="{DynamicResource MaterialDesignFloatingHintComboBox}" materialDesign:HintAssist.HelperText="انبار محل کالا" materialDesign:HintAssist.Hint="نام انبار" materialDesign:HintAssist.HintOpacity="0.8" FontFamily="Cambria" Margin="0,0,0.4,-12.6" Height="40" RenderTransformOrigin="0.5,0.5">
                                                <ComboBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                                            <materialDesign:PackIcon VerticalAlignment="Center" Kind="Warehouse"/>
                                                            <Label Content="{Binding Id}" Visibility="Hidden"/>
                                                            <TextBlock Text="{Binding Name}" VerticalAlignment="Center"/>
                                                            <TextBlock Text="{Binding Location}" VerticalAlignment="Center"/>
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </ComboBox.ItemTemplate>
                                            </ComboBox>
                                            <StackPanel
                                Grid.Row="1"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center">
                                                <Button
                                    Style="{StaticResource MaterialDesignFlatButton}"
                                    Command="{x:Static materialDesign:Flipper.FlipCommand}"
                                    Margin="0 -40 0 0"
                                    Content="ویرایش"/>
                                            </StackPanel>
                                        </Grid>
                                    </materialDesign:Flipper.FrontContent>
                                    <materialDesign:Flipper.BackContent>
                                        <Grid Height="286" Width="200" Background="White">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <materialDesign:ColorZone Mode="PrimaryMid"  Padding="6">
                                                <StackPanel>
                                                    <materialDesign:Snackbar Width="100" FontSize="12" HorizontalAlignment="Left" FlowDirection="RightToLeft" IsActive="{Binding RegisterInventorySnackBarActivation}" MessageQueue="{Binding MySnackbarMessageQueueRegisterInv}"/>
                                                    <StackPanel FlowDirection="RightToLeft" Orientation="Horizontal">
                                                        <Button
                                        Style="{StaticResource MaterialDesignToolForegroundButton}"
                                        Command="{x:Static materialDesign:Flipper.FlipCommand}"
                                        HorizontalAlignment="Left">
                                                            <materialDesign:PackIcon
                                            Kind="ArrowRight"
                                            HorizontalAlignment="Right" />
                                                        </Button>
                                                        <TextBlock
                                        Margin="8 0 0 0"
                                        VerticalAlignment="Center"
                                        Text="اطلاعات انبار"/>
                                                    </StackPanel>
                                                </StackPanel>
                                            </materialDesign:ColorZone>
                                            <ScrollViewer Height="200" Margin="0 20 0 20">
                                                <Grid
                                Grid.Row="1"
                                Margin="0 6 0 0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Top"
                                Width="172">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition />
                                                        <RowDefinition />
                                                        <RowDefinition />
                                                        <RowDefinition />
                                                    </Grid.RowDefinitions>
                                                    <TextBox
                                    
                                    materialDesign:HintAssist.IsFloating="True"
                                    Margin="0 6 0 0" Validation.ErrorTemplate="{StaticResource errorTemplate}" Text="{Binding ICTStore.Name,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                            >
                                                        <materialDesign:HintAssist.Hint>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock Text="نام انبار"/>
                                                                <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                                            </StackPanel>
                                                        </materialDesign:HintAssist.Hint>
                                                    </TextBox>
                                                    <TextBox Grid.Row="1"
                                    materialDesign:HintAssist.IsFloating="True"
                                    Margin="0 6 0 0" Text="{Binding ICTStore.Location,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                            >
                                                        <materialDesign:HintAssist.Hint>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock Text="محل انبار"/>
                                                                <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                                            </StackPanel>
                                                        </materialDesign:HintAssist.Hint>
                                                    </TextBox>
                                                    <TextBox
                                    Grid.Row="2"
                                    materialDesign:HintAssist.IsFloating="True"
                                    Margin="0 6 0 0" Validation.ErrorTemplate="{StaticResource errorTemplate}"   Text="{Binding ICTStore.Accessors,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                    >
                                                        <materialDesign:HintAssist.Hint>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock Text="افراد دارای دسترسی"/>
                                                                <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                                            </StackPanel>
                                                        </materialDesign:HintAssist.Hint>
                                                    </TextBox>
                                                    <StackPanel Margin="0 25 0 0" HorizontalAlignment="Stretch" Grid.Row="3" Orientation="Horizontal">
                                                        <Button Command="{Binding MyAddStoreFromSearch}" ToolTip="افزودن انبار" HorizontalAlignment="Left" Width="30" Height="30" Style="{DynamicResource MaterialDesignFloatingActionButton}">
                                                            <materialDesign:PackIcon Kind="Add" />
                                                        </Button>
                                                    </StackPanel>
                                                </Grid>
                                            </ScrollViewer>
                                        </Grid>
                                    </materialDesign:Flipper.BackContent>
                                </materialDesign:Flipper>
                                <TextBox Text="{Binding MaterialReceipttoSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Margin="20,10,0,0" VerticalAlignment="Top"  FontFamily="Cambria" FlowDirection="RightToLeft"  Width="150" Style="{DynamicResource MaterialDesignFloatingHintTextBox}" materialDesign:HintAssist.HelperText="شماره فاکتور خرید را وارد نمایید" materialDesign:HintAssist.Hint="شماره فاکتور" materialDesign:HintAssist.HintOpacity=".8" Height="53"/>
                                <ComboBox x:Name="nameofmaterialforsearch" KeyDown="nameofmaterialforsearch_KeyDown" KeyUp="nameofmaterialforsearch_KeyUp" GotFocus="nameofmaterialforsearch_GotFocus" IsEditable="True"  ItemsSource="{Binding NamesofMaterials}" HorizontalAlignment="Center" Margin="20,10,0,0" VerticalAlignment="Top" Width="150" Height="53" Style="{DynamicResource MaterialDesignFloatingHintComboBox}"  materialDesign:HintAssist.IsFloating="True" materialDesign:HintAssist.HintOpacity=".7" FlowDirection="RightToLeft" 
                       Text="{Binding MaterialNametoSearch,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint="نام کالا" materialDesign:HintAssist.HelperText="نام کالا را از لیست انتخاب نمایید" >
                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <Ellipse Width="40" Height="40" VerticalAlignment="Center">
                                                    <Ellipse.Fill>
                                                        <ImageBrush ImageSource="{Binding MaterialImage}"/>
                                                    </Ellipse.Fill>
                                                </Ellipse>
                                                <TextBlock Text="{Binding Name}" VerticalAlignment="Center" Margin="10 0 0 10"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>
                                <materialDesign:Flipper Margin="10 0 0 0" VerticalAlignment="Top" >
                                    <materialDesign:Flipper.FrontContent>
                                        <Grid Width="200" Margin="0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="160" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <ComboBox x:Name="Companysearch" KeyDown="Companysearch_KeyDown" IsTextSearchEnabled="False" GotFocus="Companysearch_GotFocus"
                                        Foreground="Black"  
                                        Width="150" Padding="5 0 0 5" materialDesign:HintAssist.HelperText="شرکت تامین کالا"  materialDesign:HintAssist.HintOpacity="0.8" FontFamily="Cambria" Margin="0,0,0.4,-12.6" Height="40" RenderTransformOrigin="0.5,0.5"
                                        IsEditable="True" KeyUp="Companysearchkeyup" SelectedItem="{Binding MaterialCompanytoSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" ItemsSource="{Binding ListofCompanies}"    Style="{DynamicResource MaterialDesignFloatingHintComboBox}" materialDesign:HintAssist.Hint="شرکت تامین کننده کالا" materialDesign:HintAssist.IsFloating="True"  FlowDirection="RightToLeft" >
                                                <ComboBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                                            <materialDesign:PackIcon VerticalAlignment="Center" Kind="Company"/>
                                                            <Label Content="{Binding Id}" Visibility="Hidden"/>
                                                            <TextBlock Text="{Binding NameofCompany}" VerticalAlignment="Center"/>
                                                            <TextBlock Text="{Binding CallNumber}" VerticalAlignment="Center" Margin="20 0 20 10" FontWeight="Thin" />
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </ComboBox.ItemTemplate>
                                            </ComboBox>
                                            <StackPanel
                                Grid.Row="1"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center">
                                                <Button
                                    Style="{StaticResource MaterialDesignFlatButton}"
                                    Command="{x:Static materialDesign:Flipper.FlipCommand}"
                                    Margin="0 -40 0 0"
                                    Content="ویرایش"/>
                                            </StackPanel>
                                        </Grid>
                                    </materialDesign:Flipper.FrontContent>
                                    <materialDesign:Flipper.BackContent>
                                        <Grid FlowDirection="RightToLeft" MinHeight="286" Width="200" Background="White" >
                                            <Grid.Effect>
                                                <DropShadowEffect ShadowDepth="40" RenderingBias="Quality"/>
                                            </Grid.Effect>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <materialDesign:ColorZone Mode="PrimaryMid" HorizontalAlignment="Stretch" Padding="6" Margin="0">
                                                <StackPanel>
                                                    <materialDesign:Snackbar Width="100" FontSize="12" HorizontalAlignment="Left" FlowDirection="RightToLeft" IsActive="{Binding RegisterCompanySnackBarActivation}" MessageQueue="{Binding MySnackbarMessageQueueRegisterComp}"/>
                                                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                                        <Button
                                        Style="{StaticResource MaterialDesignToolForegroundButton}"
                                        Command="{x:Static materialDesign:Flipper.FlipCommand}"
                                        HorizontalAlignment="Right">
                                                            <materialDesign:PackIcon
                                            Kind="ArrowRight"
                                            HorizontalAlignment="Right" />
                                                        </Button>
                                                        <TextBlock
                                        Margin="8 0 0 0"
                                        VerticalAlignment="Center"
                                        Text="مشخصات شرکت"/>
                                                    </StackPanel>
                                                </StackPanel>
                                            </materialDesign:ColorZone>
                                            <ScrollViewer Height="200" Margin="0 20 0 20">
                                                <Grid
                                Grid.Row="1"
                                Margin="0 6 0 0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Top"
                                Width="200">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition />
                                                        <RowDefinition />
                                                        <RowDefinition />
                                                        <RowDefinition />
                                                        <RowDefinition />
                                                        <RowDefinition />
                                                        <RowDefinition />
                                                    </Grid.RowDefinitions>
                                                    <TextBox Width="130" Style="{DynamicResource MaterialDesignFloatingHintTextBox}"
                                    materialDesign:HintAssist.IsFloating="True"
                                    Margin="0 6 0 0" Validation.ErrorTemplate="{StaticResource errorTemplate}" Text="{Binding MyProviderCompany.NameofCompany, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                    >
                                                        <materialDesign:HintAssist.Hint>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock Text="نام شرکت"/>
                                                                <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                                            </StackPanel>
                                                        </materialDesign:HintAssist.Hint>
                                                    </TextBox>
                                                    <TextBox Width="130" Style="{DynamicResource MaterialDesignFloatingHintTextBox}"
                                    Grid.Row="1"
                                    materialDesign:HintAssist.IsFloating="True"
                                    Margin="0 6 0 0"   Validation.ErrorTemplate="{StaticResource errorTemplate}" Text="{Binding MyProviderCompany.LocationAddress, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"                                 
                                    >
                                                        <materialDesign:HintAssist.Hint>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock Text="آدرس"/>
                                                                <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                                            </StackPanel>
                                                        </materialDesign:HintAssist.Hint>
                                                    </TextBox>
                                                    <TextBox Style="{DynamicResource MaterialDesignFloatingHintTextBox}"
                                    Grid.Row="2" Width="130"
                                    materialDesign:HintAssist.IsFloating="True"
                                    Margin="0 6 0 0"   Validation.ErrorTemplate="{StaticResource errorTemplate}" Text="{Binding MyProviderCompany.CallNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                                        <materialDesign:HintAssist.Hint>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock Text="شماره تماس"/>
                                                                <materialDesign:PackIcon Kind="Star" Foreground="OrangeRed"/>
                                                            </StackPanel>
                                                        </materialDesign:HintAssist.Hint>
                                                    </TextBox>
                                                    <TextBox Width="130" Style="{DynamicResource MaterialDesignFloatingHintTextBox}"
                                    Grid.Row="3"
                                    materialDesign:HintAssist.Hint="شماره فکس"
                                    materialDesign:HintAssist.IsFloating="True"
                                    Margin="0 6 0 0"  Text="{Binding MyProviderCompany.FaxNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"                                   
                                    />
                                                    <TextBox Width="130" Style="{DynamicResource MaterialDesignFloatingHintTextBox}"
                                    Grid.Row="4"
                                    materialDesign:HintAssist.Hint="ایمیل"
                                    materialDesign:HintAssist.IsFloating="True"
                                    Margin="0 6 0 0"    Text="{Binding MyProviderCompany.Email, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"                                 
                                    />
                                                    <ComboBox  Width="130" Grid.Row="5" Margin="20" SelectedIndex="{Binding ICTProviderCompany.Evaluation,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint="میزان رضایت و اعتماد">
                                                        <ComboBoxItem Content="زیاد">
                                                            <ComboBoxItem.Template>
                                                                <ControlTemplate>
                                                                    <StackPanel HorizontalAlignment="Center" Margin="10" Orientation="Horizontal" FlowDirection="RightToLeft">
                                                                        <iconPacks:PackIconBootstrapIcons Kind="EmojiLaughing"/>
                                                                        <TextBlock Foreground="Black" Text="زیاد"/>
                                                                    </StackPanel>
                                                                </ControlTemplate>
                                                            </ComboBoxItem.Template>
                                                        </ComboBoxItem>
                                                        <ComboBoxItem x:Name="opp2" Content="متوسط">
                                                            <ComboBoxItem.Template>
                                                                <ControlTemplate>
                                                                    <StackPanel HorizontalAlignment="Center" Margin="10" Orientation="Horizontal" FlowDirection="RightToLeft">
                                                                        <iconPacks:PackIconBootstrapIcons Kind="EmojiNeutral"/>
                                                                        <TextBlock Text="{Binding ElementName=opp2, Path=Content}"/>
                                                                    </StackPanel>
                                                                </ControlTemplate>
                                                            </ComboBoxItem.Template>
                                                        </ComboBoxItem>
                                                        <ComboBoxItem Content="کم" >
                                                            <ComboBoxItem.Template>
                                                                <ControlTemplate>
                                                                    <StackPanel HorizontalAlignment="Center" Margin="10" Orientation="Horizontal" FlowDirection="RightToLeft">
                                                                        <iconPacks:PackIconBootstrapIcons Kind="EmojiFrown"/>
                                                                        <TextBlock Text="کم"/>
                                                                    </StackPanel>
                                                                </ControlTemplate>
                                                            </ComboBoxItem.Template>
                                                        </ComboBoxItem>
                                                    </ComboBox>
                                                    <StackPanel Margin="50" HorizontalAlignment="left" Grid.Row="6" Orientation="Horizontal">
                                                        <Button Command="{Binding AddCompanyFromSearch}" ToolTip="افزودن شرکت" HorizontalAlignment="left" Width="30" Height="30" Style="{DynamicResource MaterialDesignFloatingActionButton}">
                                                            <materialDesign:PackIcon Kind="Add" />
                                                        </Button>
                                                    </StackPanel>
                                                </Grid>
                                            </ScrollViewer>
                                        </Grid>
                                    </materialDesign:Flipper.BackContent>
                                </materialDesign:Flipper>
                            </StackPanel>
                        </Grid>
                        <StackPanel Margin="0,0,20,39" Orientation="Horizontal" FlowDirection="RightToLeft">
                            <Button Command="{Binding MyGetSearchDetails}" VerticalAlignment="Bottom" Width="120" HorizontalAlignment="Right"  Style="{DynamicResource MaterialDesignFlatMidBgButton}" Height="42">
                                <Button.Template>
                                    <ControlTemplate>
                                        <materialDesign:ColorZone Mode="PrimaryMid" Height="40" CornerRadius="20">
                                            <TextBlock Text="مشاهده جزییات" FontFamily="Calibri" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </materialDesign:ColorZone>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Grid>
                <Grid Margin="0 -30 0 0" Grid.Row="1">
                    <ScrollViewer HorizontalScrollBarVisibility="Hidden" Height="250">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <ListView FlowDirection="RightToLeft" ItemsSource="{Binding MyListofAbstractMaterials, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Margin="7,0,-6.8,-0.4">
                                <ListView.Resources>
                                    <Style x:Key="HeaderStyle" TargetType="GridViewColumnHeader">
                                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    </Style>
                                </ListView.Resources>
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Width="250" HeaderContainerStyle="{StaticResource HeaderStyle}" Header="نام کالا">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Border>
                                                        <TextBlock Text="{Binding Name}"  HorizontalAlignment="Center"/>
                                                    </Border>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn  HeaderContainerStyle="{StaticResource HeaderStyle}" Width="80" Header="تعداد کل">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Border  >
                                                        <TextBlock Text="{Binding RemainedNumber}"  HorizontalAlignment="Center"/>
                                                    </Border>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn HeaderContainerStyle="{StaticResource HeaderStyle}" Width="80" Header=" در جستجو">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Border  >
                                                        <TextBlock Text="{Binding RemainedNumberInSearch}"  HorizontalAlignment="Center"/>
                                                    </Border>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn>
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button CommandTarget="{Binding ElementName=DitailsofofMaterialBuyingDialog}" 
                                                    CommandParameter="{Binding Name}" Click="OpenDetailsofMaterialBuying"
                                                    ToolTip="جزییات خریدها" Style="{DynamicResource MaterialDesignFlatDarkBgButton}"
                                                     Content="جزییات"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn >
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button Click="OpenExitMaterialDialogGeneral"
                                                    CommandParameter="{Binding Name}" 
                                ToolTip="تعداد خروجی" Style="{DynamicResource MaterialDesignFlatDarkBgButton}"
                                                        Content="خروج کالا"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn >
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button CommandParameter="{Binding Name}" Click="RemoveAllAtOnce" ToolTip="حذف آیتم" VerticalAlignment="Center" Width="20" Height="20" Background="OrangeRed" Foreground="Black" 
                                                             Style="{DynamicResource MaterialDesignFloatingActionButton}">
                                                            <materialDesign:PackIcon Kind="Close" />
                                                        </Button>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </Grid>
                    </ScrollViewer>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</UserControl>
